(()=>{
    var e = document.querySelectorAll(".main-nav .sub-menu, .main-nav .children");
    if (e) {
        e.forEach(function (e) {
            var t, n = e.closest("li"), s = n.querySelector('.dropdown-menu-toggle[role="button"]');
            e.id || (t = n.id || "menu-item-" + Math.floor(1e5 * Math.random()), e.id = t + "-sub-menu"), 
            (s = s || n.querySelector('a[role="button"]')) && s.setAttribute("aria-controls", e.id)
        });
    }

    if ("querySelector" in document && "addEventListener" in window) {
        Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector);
        Element.prototype.closest || (Element.prototype.closest = function (e) {
            var t = this;
            if (document.documentElement.contains(this)) do {
                if (t.matches(e)) return t
            } while (null !== (t = t.parentElement));
            return null
        });

        var o = function (t) {
            return Array.prototype.filter.call(t.parentNode.children, function (e) {
                return e !== t
            })
        };

        var t = document.querySelectorAll(".menu-toggle"),
            n = document.querySelectorAll("nav .dropdown-menu-toggle"),
            s = document.querySelectorAll("nav .main-nav ul a"),
            l = document.querySelector(".mobile-menu-control-wrapper"),
            c = document.body,
            u = document.documentElement;

        var a = function (e, t) {
            var n = "";
            t = t || this;
            if (t.getAttribute("data-nav")) {
                n = document.getElementById(t.getAttribute("data-nav"))
            } else {
                var navElement = t.closest("nav");
                if (navElement) {
                    n = document.getElementById(navElement.getAttribute("id"))
                }
            }
            if (n) {
                var s = !1,
                    o = n.getElementsByTagName("ul")[0];
                if (n.classList.contains("toggled")) {
                    n.classList.remove("toggled"), u.classList.remove("mobile-menu-open"), o && o.setAttribute("aria-hidden", "true"), t.setAttribute("aria-expanded", "false"), s || l && n.classList.contains("main-navigation") && l.classList.remove("toggled")
                } else {
                    n.classList.add("toggled"), u.classList.add("mobile-menu-open"), o && o.setAttribute("aria-hidden", "false"), t.setAttribute("aria-expanded", "true"), s ? (l.classList.add("toggled"), l.querySelector(".search-item") && l.querySelector(".search-item").classList.contains("active") && l.querySelector(".search-item").click()) : l && n.classList.contains("main-navigation") && l.classList.add("toggled")
                }
            }
        };

        for (var h = 0; h < t.length; h++) t[h].addEventListener("click", a, !1);

        for (h = 0; h < n.length; h++) {
            n[h].addEventListener("click", function (e) {
                var parentLi = this.closest("li");
                if (!parentLi) return;
                var subMenu = parentLi.querySelector(".sub-menu");
                if (subMenu) {
                    subMenu.classList.toggle("toggled-on");
                }
            }, !1);
        }

        document.addEventListener("click", function (event) {
            if (!event.target.closest(".menu-toggle") && !event.target.closest(".mobile-menu-control-wrapper")) {
                var openedMenus = document.querySelectorAll(".toggled");
                openedMenus.forEach(function (menu) {
                    menu.classList.remove("toggled");
                });
                u.classList.remove("mobile-menu-open");
            }
        });
    }
})();
